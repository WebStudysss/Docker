## **1. Dockerfile에서 헬스 체크를 정의할 때 사용하는 명령어는?**

A. `CHECK`

B. `PROBE`

C. `HEALTHCHECK`

D. `HEALTH`

---

## **2. Docker HEALTHCHECK의 기본 동작으로 올바른 것은?**

A. 컨테이너 시작 전에만 실행된다.

B. 컨테이너의 상태를 주기적으로 검사하고 결과를 health 상태로 표시한다.

C. Docker Engine을 재시작해야 동작한다.

D. curl 명령만 사용할 수 있다.

---

## **3. 다음 중 HEALTHCHECK 명령에서 사용할 수 있는 옵션이 아닌 것은?**

A. `--interval`

B. `--timeout`

C. `--start-period`

D. `--restart-mode`

---

## **4. 디펜던시 체크(dependency check)의 목적에 가장 가까운 설명은?**

A. 컨테이너 이미지 크기를 줄이는 기능

B. 특정 서비스가 정상 구동될 때까지 다른 서비스를 지연 시작

C. 컨테이너 간 CPU 비율을 조절

D. 컨테이너의 로그 레벨을 자동 설정

---

## **5. 도커 컴포즈에서 의존 서비스가 “헬스 체크 성공 후 실행”되도록 설정하는 기능은?**

A. `depends_on: condition: healthy`

B. `requires: health_ready`

C. `after_healthcheck:`

D. `service_check: waiting`

---

## **6. 다음 중 Docker Compose에서 헬스 체크를 정의하는 올바른 형태는?**

A.

```yaml
check:
  cmd: ["curl", "localhost"]

```

B.

```yaml
healthcheck:
  test: ["CMD", "curl", "-f", "http://localhost"]

```

C.

```yaml
probe:
  exec: ["ping", "localhost"]

```

D.

```yaml
liveness:
  test: ["sh", "check.sh"]

```

---

## **7. 애플리케이션 체크를 위한 커스텀 유틸리티를 작성하는 주된 이유는?**

A. 모든 도커 이미지가 curl을 내장하고 있지 않아서

B. 헬스 체크가 단순 HTTP 호출이 아닌 비즈니스 로직 기반 검증이 필요할 수 있어서

C. 도커 엔진 버전 업그레이드를 자동화하기 위해

D. 컴포즈 파일 크기를 줄이기 위해

---

## **8. 헬스 체크와 디펜던시 체크를 함께 사용하면 애플리케이션의 복원력이 증가하는 이유는?**

A. 느린 서비스도 정상처럼 보여 속도가 빨라진다.

B. 전체 컨테이너를 무조건 동시에 재시작하기 때문이다.

C. 의존 서비스가 정상일 때만 다음 서비스가 순차적으로 안정적으로 실행되기 때문이다.

D. 컨테이너 로그가 자동 삭제되기 때문이다.

---

## **9. HEALTHCHECK 결과 상태값으로 존재하지 않는 것은?**

A. `starting`

B. `healthy`

C. `unhealthy`

D. `warning`

---

## **10. 다음 중 “디펜던시 체크가 적용된 컨테이너 실행” 시 예상되는 정상적인 동작은?**

A. 의존 대상 서비스가 비정상이어도 상관없이 바로 실행

B. 의존 서비스의 health 상태가 `healthy`가 되면 컨테이너가 실행됨

C. 의존 서비스의 이미지 크기에 따라 실행 순서를 자동 조정

D. 의존 서비스가 없어도 자동 생성하여 실행

---

# ✅ **정답 & 해설**

1️⃣ **C** — Dockerfile에서 헬스 체크는 `HEALTHCHECK` 키워드로 선언한다.

2️⃣ **B** — HEALTHCHECK는 컨테이너 실행 중 주기적으로 건강 상태를 점검한다.

3️⃣ **D** — `--restart-mode` 옵션은 존재하지 않는다.

4️⃣ **B** — 디펜던시 체크는 “의존 서비스가 준비될 때까지 대기”하기 위한 기능이다.

5️⃣ **A** — Compose에서 의존 서비스 건강 체크는 `depends_on: condition: healthy`.

6️⃣ **B** — Compose에서 healthcheck 정의는 `healthcheck: test: ["CMD", ...]`.

7️⃣ **B** — 단순 HTTP 응답 체크가 아닌 “비즈니스 로직 중심 상태 점검”이 필요할 때 커스텀 유틸리티를 작성한다.

8️⃣ **C** — 의존 서비스가 정상 상태일 때만 다음 서비스가 실행되어 전체 안정성이 높아진다.

9️⃣ **D** — Docker health 상태는 `starting`, `healthy`, `unhealthy`만 존재한다.

10️⃣ **B** — 의존 서비스가 health 상태에서 ‘healthy’가 되면 다음 컨테이너 실행이 허용된다.
