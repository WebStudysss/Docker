### 1) “이미지(Image)”와 “컨테이너(Container)”의 관계로 가장 적절한 것은?

A. 이미지는 실행 중인 프로세스이고 컨테이너는 템플릿이다

B. 이미지는 읽기 전용 스냅샷, 컨테이너는 그 스냅샷을 실행한 인스턴스

C. 둘 다 실행 중인 상태이며 차이가 없다

D. 이미지는 커널이고 컨테이너는 사용자 공간이다

**정답: B**

해설: 이미지는 **읽기 전용 레이어 묶음**, 컨테이너는 여기에 **쓰기 가능한 레이어(COW)**가 붙은 실행 인스턴스.

---

### 2) `docker build` 시 **빌드 컨텍스트**에 대한 설명으로 옳은 것은?

A. Dockerfile이 있는 디렉터리의 최상위 파일만 전송된다

B. `.dockerignore`가 없으면 지정 경로의 모든 하위 파일·폴더가 전송된다

C. 항상 100MB로 제한된다

D. 컨텍스트는 원격 레지스트리에서 자동으로 받는다

**정답: B**

해설: 컨텍스트는 지정 경로 전체가 기본. 크기 최적화는 **`.dockerignore`**로 수행.

---

### 3) `.dockerignore`의 주된 효과로 가장 적절한 것은?

A. 이미지 푸시 시 비공개 레이어 암호화

B. 컨테이너 실행 시 마운트 제외

C. **빌드 컨텍스트에서 특정 경로 제외 → 업로드/레이어 변경 최소화 → 캐시 적중률↑**

D. 런타임 환경변수 자동 주입

**정답: C**

해설: 컨텍스트 축소로 **전송량↓, COPY 변화↓**, 결과적으로 빌드 빠르고 캐시 적중률 높아짐.

---

### 4) Dockerfile에서 `COPY`와 `ADD`의 차이로 옳은 것은?

A. 둘 다 원격 URL을 지원한다

B. `ADD`는 tar 아카이브 자동 해제 가능, 예측성은 `COPY`가 더 높다

C. `COPY`만 압축 해제 가능

D. 차이가 없다

**정답: B**

해설: URL·tar 자동해제는 `ADD`만. 보안·예측성 위해 일반적으로 **`COPY` 우선**.

---

### 5) `ARG`와 `ENV`의 차이로 옳은 것은?

A. `ARG`는 런타임에서 조회 가능, `ENV`는 빌드 시만 사용

B. `ARG`는 빌드 단계에서만 사용되고 이미지에 남지 않는다

C. 둘 다 이미지 메타데이터로 영구 저장된다

D. 둘 다 빌드 시에만 쓰인다

**정답: B**

해설: `ARG`는 **빌드 전용 변수**, `ENV`는 **이미지에 영구 반영**되어 컨테이너 실행 시에도 사용.

---

### 6) 다음 중 **빌드 캐시 전략** 관점에서 가장 올바른 Dockerfile 순서는?

A. `COPY . .` → `RUN npm ci` → `RUN npm run build`

B. `COPY package*.json .` → `RUN npm ci` → `COPY . .` → `RUN npm run build`

C. `RUN npm ci` → `COPY . .` → `RUN npm run build`

D. `COPY . .` → `RUN npm install` → `RUN rm -rf node_modules`

**정답: B**

해설: **의존성 목록 먼저** 복사해 캐시 고정 → 소스 전체 복사 → 빌드.

---

### 7) Dockerfile에서 `RUN`, `CMD`, `ENTRYPOINT`의 역할 구분으로 옳은 것은?

A. `RUN`은 컨테이너 시작 시 실행되는 명령이다

B. `CMD`는 이미지 빌드 중 한 번만 실행된다

C. `ENTRYPOINT`는 **실행 파일**, `CMD`는 그에 대한 **기본 인자** 역할을 한다

D. `CMD`가 있으면 `ENTRYPOINT`는 무시된다

**정답: C**

해설: `RUN`은 **이미지 빌드 시** 실행되어 레이어를 만든다. 런타임 진입점은 `ENTRYPOINT`(+`CMD`).

---

### 8) `EXPOSE 8080`의 의미로 맞는 것은?

A. 호스트 8080 포트가 자동으로 외부에 공개된다

B. 문서화이자 컨테이너 **내부 포트** 선언으로, 외부 노출은 `-p`로 매핑해야 한다

C. 컨테이너 방화벽 규칙을 생성해 외부 트래픽을 허용한다

D. 레지스트리에서 자동으로 보안 스캔을 수행한다

**정답: B**

해설: `EXPOSE`는 **문서화/힌트**일 뿐 외부 접속은 `-p 호스트:컨테이너`가 필요.

---

### 9) 이미지 태그와 다이제스트에 대한 이해로 옳은 것은?

A. 태그(tag)는 불변이며 한 번 지정하면 바뀌지 않는다

B. 다이제스트(digest)는 레이어 해시로, **재현성 있는 고정 참조**에 유리하다

C. `latest`는 항상 가장 최근 빌드를 가리킨다

D. 태그를 추가하면 이미지 하나가 디스크에 중복 저장된다

**정답: B**

해설: 태그는 **가변 참조**, 다이제스트는 **불변 해시**. 태그 추가는 **별칭**일 뿐 데이터 복제 아님.

---

### 10) 다음 중 **레이어 캐시 무효화**를 가장 크게 초래하는 안티패턴은?

A. 자주 바뀌는 소스 파일을 Dockerfile 상단에서 `COPY`

B. `apt-get update && apt-get install ...` 후 같은 `RUN`에서 캐시/임시 파일 정리

C. `.dockerignore`에 `.git/`, `node_modules/` 포함

D. 의존성 목록을 먼저 복사하고 설치 후에 소스 전체 복사

**정답: A**

해설: 상단에서 자주 변하는 파일을 복사하면 **그 이하 모든 단계 캐시가 깨져** 빌드가 매번 오래 걸림.
