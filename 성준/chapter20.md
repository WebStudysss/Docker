# 20장 리버스 프록시를 이용해 컨테이너 HTTP 트래픽 제어하기 — 4지선다 문제 10개

> 조건: **20장 목차(20.1~20.6) 범위 내**에서만 출제

---

## 문제 1
리버스 프록시에 대한 설명으로 **가장 정확한 것**은?

A. 클라이언트가 외부 서버로 나가기 전에 프록시를 거치는 방식이며, 클라이언트 측 설정이 필수다.  
B. 서버 앞단에서 요청을 받아 내부 서비스로 전달하며, 클라이언트는 프록시의 존재를 몰라도 된다.  
C. DNS를 대체하는 기술이며, HTTP가 아닌 TCP만 처리한다.  
D. 리버스 프록시는 캐시 기능이 없고 오직 TLS 종료만 담당한다.

---

## 문제 2
리버스 프록시의 **라우팅(Routing)** 에 대한 설명으로 옳은 것은?

A. 요청의 `Host`, URL 경로(path) 등을 기준으로 **어떤 백엔드로 보낼지** 결정한다.  
B. 라우팅은 컨테이너 이미지 빌드 과정에서만 결정되며 런타임에 변경할 수 없다.  
C. 라우팅은 오직 L2 스위치에서만 가능하고 HTTP 레벨과는 무관하다.  
D. 라우팅이란 백엔드에서 DB 커넥션을 분산시키는 기능을 말한다.

---

## 문제 3
리버스 프록시에서 **SSL/TLS 적용**과 관련해 가장 적절한 설명은?

A. SSL/TLS는 리버스 프록시가 처리할 수 없고 반드시 각 애플리케이션 컨테이너에서만 처리해야 한다.  
B. 리버스 프록시는 보통 TLS 종료(termination)를 수행하고, 내부로는 평문 HTTP로 전달할 수도 있다.  
C. TLS 종료를 하면 HTTP 라우팅(Host/path 기반)은 불가능해진다.  
D. TLS는 UDP 기반이라 HTTP 트래픽과 함께 사용할 수 없다.

---

## 문제 4
리버스 프록시를 두었을 때 **클라이언트 IP 추적**과 관련해 일반적으로 필요한 처리는?

A. 백엔드가 클라이언트 IP를 보려면 프록시가 원본 IP를 헤더로 전달하도록 설정하는 방식이 흔하다.  
B. 프록시를 거치면 원본 IP는 항상 자동으로 전달되며 별도 설정이 필요 없다.  
C. 클라이언트 IP는 HTTP 헤더로 전달할 수 없고 오직 바디에 넣어야 한다.  
D. 클라이언트 IP 전달은 오직 HTTP/3에서만 가능하다.

---

## 문제 5
리버스 프록시를 이용한 **성능 개선**에 해당하는 사례로 가장 적절한 것은?

A. 백엔드 컨테이너의 파일 시스템을 오버레이로 바꿔 I/O 성능을 올린다.  
B. 정적 콘텐츠를 프록시가 처리하거나 캐싱하여 백엔드 부하를 줄인다.  
C. 리버스 프록시는 DB 인덱스를 자동 생성하여 쿼리 성능을 개선한다.  
D. 리버스 프록시는 이미지 빌드 시 멀티 스테이지 빌드를 강제한다.

---

## 문제 6
리버스 프록시로 **신뢰성(availability/reliability)** 을 높이는 방식으로 옳은 것은?

A. 단일 백엔드만 두고 프록시는 항상 패스스루로만 동작하는 것이 신뢰성에 유리하다.  
B. 여러 백엔드 인스턴스에 대해 로드밸런싱/헬스체크를 통해 장애 인스턴스를 우회할 수 있다.  
C. 신뢰성 개선은 오직 애플리케이션 코드(try-catch)로만 가능하다.  
D. 프록시는 장애 상황에서 더 빠르게 전체 다운을 유도하는 역할을 한다.

---

## 문제 7
리버스 프록시에서 **시간 제한(타임아웃) 설정**을 조정하는 목적에 가장 가까운 것은?

A. 백엔드의 모든 요청을 무한정 대기시켜 사용자 만족도를 높이기 위함  
B. 느린/멈춘 백엔드 연결을 끊어 자원을 보호하고, 장애 전파를 줄이기 위함  
C. 타임아웃은 TLS 인증서 갱신을 자동화하기 위한 기능이다  
D. 타임아웃은 오직 컨테이너 로그 수집을 위한 옵션이다

---

## 문제 8
“클라우드 네이티브 리버스 프록시” 성격을 설명하는 문장으로 가장 타당한 것은?

A. 컨테이너 환경에서 서비스 디스커버리/동적 설정과 잘 맞고, 변경에 유연하게 대응하도록 설계되는 경우가 많다.  
B. 클라우드 네이티브 리버스 프록시는 컨테이너에서 실행할 수 없고 VM에만 설치된다.  
C. 클라우드 네이티브 리버스 프록시는 오직 정적 설정 파일만 지원한다.  
D. 클라우드 네이티브 리버스 프록시는 SSL/TLS를 지원하지 않는 것이 특징이다.

---

## 문제 9
리버스 프록시를 활용한 패턴으로서 **“단일 진입점(ingress 스타일)”** 의 핵심 의도에 가장 가까운 것은?

A. 모든 요청을 하나의 백엔드로만 보내 장애 원인을 단순화한다.  
B. 외부 트래픽의 진입점을 통합하고, 라우팅/보안/관찰성 같은 공통 관심사를 앞단에서 처리한다.  
C. 컨테이너 내부에서만 통신하도록 외부 트래픽을 완전히 차단한다.  
D. 애플리케이션마다 서로 다른 포트를 외부에 모두 노출해 운영을 단순화한다.

---

## 문제 10
리버스 프록시 적용 시 주의점으로 **가장 현실적인 것**은?

A. 프록시를 두면 백엔드는 어떤 헤더/라우팅 정보도 신경 쓸 필요가 없다.  
B. 프록시가 단일 장애점(SPOF)이 될 수 있으므로, 구성/배포에서 이를 고려해야 한다.  
C. 프록시는 로그를 남길 수 없어서 트래픽 분석에 부적합하다.  
D. 프록시는 HTTP 요청을 변형할 수 없고 전달만 한다.

---

# 정답 및 해설

## 정답
1) B  
2) A  
3) B  
4) A  
5) B  
6) B  
7) B  
8) A  
9) B  
10) B  

## 해설
### 1번 해설
- **리버스 프록시**는 서버 앞단에서 요청을 받아 내부 서비스로 전달한다. 클라이언트가 별도 설정을 할 필요가 없고, “서버 측 프록시” 성격이다.

### 2번 해설
- 라우팅은 보통 `Host`(도메인), URL path(`/api`, `/web` 등) 같은 **요청 특성**을 기준으로 백엔드를 선택하는 동작이다.

### 3번 해설
- 리버스 프록시는 흔히 **TLS 종료(termination)** 지점으로 쓰인다. 외부는 HTTPS로 받고 내부는 HTTP로 전달하는 구성이 가능하다(필수는 아님).

### 4번 해설
- 프록시를 거치면 백엔드 입장에선 “직접 연결한 상대”가 프록시가 된다. 그래서 원본 클라이언트 정보를 **헤더로 전달**하도록 설정하는 방식이 흔하다.

### 5번 해설
- 정적 파일 처리/캐싱, 압축, 커넥션 처리 최적화 등은 프록시가 담당하기 좋은 영역이며, 백엔드 부하를 줄여 성능을 개선한다.

### 6번 해설
- 다중 백엔드에 대한 **로드밸런싱**, **헬스체크 기반 제외** 같은 방식은 장애 인스턴스를 우회하게 해 신뢰성을 높인다.

### 7번 해설
- 타임아웃은 느린 백엔드 때문에 프록시의 워커/커넥션이 고갈되는 것을 막고, 장애가 전체로 번지는 것을 줄이는 목적이 크다.

### 8번 해설
- 클라우드 네이티브 리버스 프록시는 컨테이너 환경에서 **동적 변경, 서비스 디스커버리, 자동화된 설정 반영** 같은 운영 특성과 잘 맞는 방향으로 쓰인다.

### 9번 해설
- 단일 진입점 패턴은 외부 트래픽의 출입구를 통합하고, 라우팅/보안(SSL)/관찰성(로그) 같은 공통 기능을 앞단에서 처리해 운영을 단순화한다.

### 10번 해설
- 리버스 프록시는 앞단에 서는 만큼 **단일 장애점**이 될 수 있다. 따라서 이중화/배포 전략 등 운영 설계가 함께 고려되어야 한다.
