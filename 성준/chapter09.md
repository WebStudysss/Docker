# 📘 도커 교과서 Chapter 9  
## 컨테이너 모니터링으로 투명성 있는 애플리케이션 만들기  
### 개념 확인 문제 10문항(정답 및 해설 포함)

---

## ✔️ 문제(10문항)

### **1. (개념)**  
컨테이너 기반 애플리케이션에서 **모니터링 기술 스택이 필요한 핵심 이유**로 가장 적절한 것은?  
A. 컨테이너 이미지 용량을 줄이기 위해  
B. 애플리케이션의 동작 상태·리소스 사용량을 외부에서 관찰하기 위해  
C. 도커 데몬 재시작 시간을 단축하기 위해  
D. 컨테이너 네트워크 속도를 향상시키기 위해  

---

### **2. (구성요소)**  
다음 중 Chapter 9에서 소개하는 **모니터링 기술 스택의 올바른 조합**은?  
A. Prometheus + Grafana  
B. Redis + Grafana  
C. Prometheus + Loki  
D. Fluentd + Kibana  

---

### **3. (Metrics 개념)**  
컨테이너 내부 애플리케이션이 `/metrics` 같은 엔드포인트에서 노출하는 **정량적 측정값(Metrics)**의 예로 적절하지 않은 것은?  
A. 요청 처리 시간  
B. CPU 사용량  
C. 비즈니스 로직에서 발생한 도메인 이벤트 수  
D. HTML 렌더링 결과물의 텍스트 문구  

---

### **4. (계측 방식)**  
앱이 측정값을 출력할 때 사용하는 **대표적인 라이브러리/방식**이 아닌 것은?  
A. Prometheus Client Library  
B. StatsD  
C. JMX Exporter  
D. Dockerfile HEALTHCHECK  

---

### **5. (Prometheus 역할)**  
Prometheus 컨테이너의 역할로 가장 알맞은 것은?  
A. 컨테이너 빌드를 자동화  
B. 메트릭 수집 및 시계열 데이터 저장  
C. 애플리케이션 로깅 포맷 변환  
D. DB 쿼리 자동 튜닝  

---

### **6. (Prometheus 설정)**  
Prometheus가 메트릭을 가져가기 위해 **필수적으로 지정해야 하는 항목**은?  
A. scrape_targets  
B. scrape_configs  
C. scrape_volume  
D. scrape_port  

---

### **7. (Grafana 역할)**  
Grafana 컨테이너의 주요 기능은 무엇인가?  
A. Prometheus 설정 파일 자동 생성  
B. 수집된 메트릭을 시각화  
C. 컨테이너 간 네트워크를 자동 구성  
D. Docker 이미지 최적화  

---

### **8. (투명성 수준)**  
아래 설명 중 **투명성이 높은 애플리케이션**의 특징으로 가장 적절한 것은?  
A. 장애가 발생해야만 내부 상태를 알 수 있다  
B. 메트릭이 많지만 의미 없는 값 위주이다  
C. 주요 처리 흐름과 리소스 상태를 메트릭 및 대시보드로 즉각 파악 가능하다  
D. 애플리케이션의 내부 상태를 외부에서는 절대 볼 수 없다  

---

### **9. (모니터링 구성 예시)**  
다음 중 **올바른 모니터링 흐름**을 고르시오.  
A. Grafana → 애플리케이션 → Prometheus  
B. 애플리케이션 → Grafana → Prometheus  
C. 애플리케이션 → Prometheus → Grafana  
D. Prometheus → 애플리케이션 → Docker Daemon  

---

### **10. (운영 관점)**  
투명성을 높이기 위해 가장 효과적인 전략으로 옳은 것은?  
A. 메트릭 엔드포인트 노출을 최소화한다  
B. 애플리케이션 성능에 영향이 우려되므로 메트릭은 1분에 한 번만 수집해야 한다  
C. 비즈니스 지표와 시스템 지표를 모두 메트릭으로 노출한다  
D. 로그만 잘 남기면 메트릭은 불필요하다  

---

---

# ✔️ 정답 및 해설

### **1. 정답: B**  
컨테이너는 짧은 수명과 동적 스케줄링 특성이 있으므로, 외부에서 상태와 리소스를 관찰해야 한다.

### **2. 정답: A**  
Prometheus(수집) + Grafana(시각화)는 가장 대표적인 모니터링 스택.

### **3. 정답: D**  
HTML 렌더링 결과물의 텍스트 문구는 메트릭이 아니다.  
메트릭은 **수량화·모니터링 가능한 정량 데이터**다.

### **4. 정답: D**  
Dockerfile HEALTHCHECK는 컨테이너 헬스 체크이지 메트릭 계측 방식이 아니다.

### **5. 정답: B**  
Prometheus = 시계열 DB + 스크레이핑(수집) 엔진.

### **6. 정답: B**  
Prometheus 설정 파일에서 핵심은 `scrape_configs:`  
여기에 타겟(엔드포인트 주소) 정의가 들어간다.

### **7. 정답: B**  
Grafana의 역할 = 메트릭 시각화(대시보드 제공).

### **8. 정답: C**  
투명성이 높다는 것은 애플리케이션의 내부 상태를 외부에서 명확히 파악 가능하다는 의미.

### **9. 정답: C**  
올바른 데이터 흐름:  
애플리케이션 → Prometheus(수집) → Grafana(시각화)

### **10. 정답: C**  
투명성은 비즈니스 지표 + 시스템 지표 모두가 필요.  
운영 인사이트는 두 측면이 함께 있어야 완성된다.

---